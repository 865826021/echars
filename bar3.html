<!DOCTYPE html>
<head>
	<meta charset="UTF-8">
	<title>柱状图-温度计式图表：某地蒸发量和降水量</title>
	<!-- 来自百度CDN -->
	<script src="js/echarts/esl.js"></script>
</head>
<body>
	<!-- 为ECharts准备一个具备大小（宽高）的Dom -->
	<div id="main" style="height:400px;width: 1200px;"></div>
		<!--script src="js/echarts/echarts.js"></script>
		<script src="js/echarts/line.js"></script-->
		<script src="js/echarts/echarts-plain.js"></script>
		<script type="text/javascript">
			var myChart = echarts.init(document.getElementById('main'));
			option = {
			    title : {
			        text: '温度计式图表',
			        subtext: 'From ExcelHome',
			        sublink: 'http://e.weibo.com/1341556070/AizJXrAEa'
			    },
			    tooltip : {
			        trigger: 'axis',
			        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
			            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
			        },			       
			    },
			    legend: {
			        selectedMode:false,
			        data:['Acutal', 'Forecast']
			    },
			    toolbox: {
			        show : true,
			        feature : {
			            mark : {show: true},
			            dataView : {show: true, readOnly: false},
			            restore : {show: true},
			            saveAsImage : {show: true}
			        }
			    },
			    calculable : true,
			    xAxis : [
			        {
			            type : 'category',
			            data : ['Cosco','CMA','APL','OOCL','Wanhai','Zim']
			        }
			    ],
			    yAxis : [
			        {
			            type : 'value',
			            boundaryGap: [0, 0.3],//表示顶齐,控制Y轴高度
			        }
			    ],
			    series : [
			        {
			            name:'Acutal',
			            type:'bar',
			            stack: 'sum',
						barWidth:40,
			            itemStyle: {
			                normal: {
			                    label : {
			                        show: true, position: 'insideTop'
			                    }
			                }
			            },
			            data:[260, 200, 220, 120, 100, 80]
			        },
					
					{
			            name:'Sis',
			            type:'bar',
			            stack: 'sum',
			            itemStyle: {
			                normal: {
			                    label : {
			                        show: true, position: 'insideTop'
			                    }
			                }
			            },
			            data:[20, 50, 43, 1, 56, 14]
			        },
					
			        {
			            name:'Forecast',
			            type:'bar',
			            stack: 'sum',
			            itemStyle: {
			                normal: {
			                    color: '#fff',
			                    barBorderColor: 'tomato',
			                    barBorderWidth: 2,
			                    //barBorderRadius:5,
			                    label : {
			                        show: true, 
			                        position: 'top',
			                        formatter: function (a, b, c) {
										for (var j = 0, l = option.xAxis[0].data.length; j < l; j++) {
											if (option.xAxis[0].data[j] == b) {
												tmp_sum = 0;
												for (var y =0; y < option.series.length -1;  y ++ ){
													tmp_sum += option.series[y].data[j]
												}
											   return tmp_sum + c;
											   //return option.series[0].data[j] + c;
											}
										}
			                        },
			                        textStyle: {
			                            color: 'tomato'
			                        }
			                    }
			                }
			            },
			            data:[0, 0, 0, 0, 0, 0]
			        }
			    ]
			};
			                    
		myChart.setOption(option);
		</script>
</body>